<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Entertainment | Tickets & Show</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <style>
        body { background-color: #050505; color: white; font-family: 'Inter', sans-serif; }
        
        /* Persoonlijke instelling: Transparency altijd op 1 */
        #frozenlogo { opacity: 1 !important; font-weight: 900; color: #3b82f6; }

        /* Verbeterde Zaalindeling */
        .seat {
            width: 24px; height: 24px; background: #3a0000; border-radius: 4px;
            cursor: pointer; transition: all 0.2s; font-size: 9px;
            display: flex; align-items: center; justify-content: center;
        }
        .seat:hover { background: #5a0000; transform: scale(1.1); }
        .seat.selected { background: #fbbf24 !important; color: black; box-shadow: 0 0 12px #fbbf24; }
        
        .aisle { width: 30px; } /* De zijbeuken uit de screenshots */
        .screen-glow { 
            background: linear-gradient(to bottom, rgba(59, 130, 246, 0.4), transparent);
            height: 40px; border-radius: 50% / 100% 100% 0 0;
        }
    </style>
</head>
<body>

<nav class="p-6 border-b border-white/10 flex justify-between items-center bg-black/80 sticky top-0 z-50">
    <div id="frozenlogo" class="text-xl">VIRTUAL ENTERTAINMENT</div>
</nav>

<div class="max-w-5xl mx-auto mt-10 p-4">
    <h2 class="text-center text-xl font-bold mb-4 text-blue-400">BEKIJK DE TRAILER</h2>
    <div class="aspect-video w-full bg-zinc-900 rounded-2xl overflow-hidden border border-white/10 shadow-2xl">
        <iframe class="w-full h-full" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe>
    </div>
</div>

<div class="max-w-6xl mx-auto p-10 grid md:grid-cols-2 gap-10">
    <div class="group bg-zinc-900/50 p-6 rounded-2xl border border-white/5 hover:border-blue-500/50 transition">
        <img src="https://github.com/jouwgebruikersnaam/jouwrepo/blob/main/image_c7b91e.jpg?raw=true" class="w-full h-48 object-cover rounded-xl mb-4 grayscale group-hover:grayscale-0 transition duration-500" alt="Frozen">
        <h2 class="text-2xl font-bold mb-2">Disney FROZEN</h2>
        <button onclick="openSeating('Frozen')" class="w-full bg-blue-600 py-3 rounded-xl font-bold mt-4">Kies Stoelen</button>
    </div>

    <div class="group bg-zinc-900/50 p-6 rounded-2xl border border-white/5 hover:border-green-500/50 transition">
        <img src="https://github.com/jouwgebruikersnaam/jouwrepo/blob/main/image_c7b612.png?raw=true" class="w-full h-48 object-cover rounded-xl mb-4 grayscale group-hover:grayscale-0 transition duration-500" alt="Wicked">
        <h2 class="text-2xl font-bold mb-2">Wicked</h2>
        <button onclick="openSeating('Wicked')" class="w-full bg-green-600 py-3 rounded-xl font-bold mt-4">Kies Stoelen</button>
    </div>
</div>

<div id="seating-modal" class="fixed inset-0 bg-black/98 z-50 hidden overflow-y-auto">
    <div class="min-h-screen flex flex-col items-center justify-center p-8">
        <h2 id="modal-title" class="text-3xl font-black mb-12 tracking-tighter"></h2>
        
        <div class="w-full max-w-2xl">
            <div class="screen-glow mb-16 flex items-center justify-center text-[10px] tracking-[0.5em] text-blue-300">PODIUM</div>
            
            <div id="seating-grid" class="flex flex-col items-center">
                </div>
        </div>

        <div class="mt-12 w-full max-w-md bg-zinc-900 p-6 rounded-2xl border border-white/10">
            <input type="email" id="user-email" placeholder="jouw@email.com" class="w-full bg-black border border-white/20 p-4 rounded-xl mb-4 outline-none focus:border-yellow-500">
            <div class="flex gap-2">
                <button onclick="submitBooking()" class="flex-1 bg-yellow-500 text-black font-black py-4 rounded-xl hover:bg-yellow-400 transition">RESERVEREN</button>
                <button onclick="closeSeating()" class="px-6 bg-zinc-800 rounded-xl">Sluit</button>
            </div>
            <p id="status-msg" class="mt-4 text-center text-sm font-medium"></p>
        </div>
    </div>
</div>

<script>
    emailjs.init("YOUR_PUBLIC_KEY"); // VUL HIER JE KEY IN

    let selectedSeats = [];
    let currentShow = "";

    function openSeating(show) {
        currentShow = show;
        document.getElementById('modal-title').innerText = show.toUpperCase();
        document.getElementById('seating-modal').classList.remove('hidden');
        generateComplexGrid();
    }

    function generateComplexGrid() {
        const grid = document.getElementById('seating-grid');
        grid.innerHTML = "";
        
        for (let r = 1; r <= 10; r++) {
            const rowDiv = document.createElement('div');
            rowDiv.className = "flex mb-2 items-center";
            
            // Linker blok (3 stoelen)
            rowDiv.appendChild(createBlock(r, 1, 3));
            // Zijbeuk links
            const aisleL = document.createElement('div'); aisleL.className = "aisle"; rowDiv.appendChild(aisleL);
            // Midden blok (6 stoelen)
            rowDiv.appendChild(createBlock(r, 4, 9));
            // Zijbeuk rechts
            const aisleR = document.createElement('div'); aisleR.className = "aisle"; rowDiv.appendChild(aisleR);
            // Rechter blok (3 stoelen)
            rowDiv.appendChild(createBlock(r, 10, 12));

            grid.appendChild(rowDiv);
        }
    }

    function createBlock(row, start, end) {
        const block = document.createElement('div');
        block.className = "flex gap-1.5";
        for (let s = start; s <= end; s++) {
            const seat = document.createElement('div');
            seat.className = "seat";
            seat.innerText = s;
            seat.onclick = () => {
                const id = `${row}-${s}`;
                if (seat.classList.contains('selected')) {
                    seat.classList.remove('selected');
                    selectedSeats = selectedSeats.filter(i => i !== id);
                } else if (selectedSeats.length < 3) {
                    seat.classList.add('selected');
                    selectedSeats.push(id);
                }
            };
            block.appendChild(seat);
        }
        return block;
    }

    function submitBooking() {
        const email = document.getElementById('user-email').value;
        const msg = document.getElementById('status-msg');
        
        if (!email || selectedSeats.length === 0) {
            msg.innerText = "Selecteer stoelen en vul je mail in!";
            msg.style.color = "#ef4444";
            return;
        }

        msg.innerText = "Verzenden...";
        msg.style.color = "#3b82f6";

        emailjs.send("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", {
            to_email: email,
            show_name: currentShow,
            seats: selectedSeats.join(", ")
        }).then(() => {
            msg.innerText = "Tickets verstuurd! Check je inbox.";
            msg.style.color = "#10b981";
            setTimeout(closeSeating, 2000);
        }).catch((err) => {
            msg.innerText = "Fout bij verzenden. Gebruik je de juiste Keys?";
            console.error(err);
        });
    }

    function closeSeating() {
        document.getElementById('seating-modal').classList.add('hidden');
        selectedSeats = [];
        document.getElementById('status-msg').innerText = "";
    }
</script>
</body>
</html>
